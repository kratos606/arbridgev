import{r as St,j as ct,u as Qe,a as Xe}from"./index-Dit8z4pW.js";function Ge(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Oe(t,e){return function(){return t.apply(e,arguments)}}const{toString:Ye}=Object.prototype,{getPrototypeOf:se}=Object,Ht=(t=>e=>{const r=Ye.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),mt=t=>(t=t.toLowerCase(),e=>Ht(e)===t),Jt=t=>e=>typeof e===t,{isArray:Et}=Array,kt=Jt("undefined");function Ze(t){return t!==null&&!kt(t)&&t.constructor!==null&&!kt(t.constructor)&&ht(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ae=mt("ArrayBuffer");function tn(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ae(t.buffer),e}const en=Jt("string"),ht=Jt("function"),Ee=Jt("number"),Vt=t=>t!==null&&typeof t=="object",nn=t=>t===!0||t===!1,Lt=t=>{if(Ht(t)!=="object")return!1;const e=se(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rn=mt("Date"),on=mt("File"),sn=mt("Blob"),an=mt("FileList"),cn=t=>Vt(t)&&ht(t.pipe),un=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ht(t.append)&&((e=Ht(t))==="formdata"||e==="object"&&ht(t.toString)&&t.toString()==="[object FormData]"))},ln=mt("URLSearchParams"),[dn,hn,fn,pn]=["ReadableStream","Request","Response","Headers"].map(mt),gn=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bt(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,c;if(typeof t!="object"&&(t=[t]),Et(t))for(n=0,c=t.length;n<c;n++)e.call(null,t[n],n,t);else{const h=r?Object.getOwnPropertyNames(t):Object.keys(t),d=h.length;let b;for(n=0;n<d;n++)b=h[n],e.call(null,t[b],b,t)}}function Re(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,c;for(;n-- >0;)if(c=r[n],e===c.toLowerCase())return c;return null}const Ct=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Pe=t=>!kt(t)&&t!==Ct;function te(){const{caseless:t}=Pe(this)&&this||{},e={},r=(n,c)=>{const h=t&&Re(e,c)||c;Lt(e[h])&&Lt(n)?e[h]=te(e[h],n):Lt(n)?e[h]=te({},n):Et(n)?e[h]=n.slice():e[h]=n};for(let n=0,c=arguments.length;n<c;n++)arguments[n]&&Bt(arguments[n],r);return e}const mn=(t,e,r,{allOwnKeys:n}={})=>(Bt(e,(c,h)=>{r&&ht(c)?t[h]=Oe(c,r):t[h]=c},{allOwnKeys:n}),t),wn=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),yn=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},bn=(t,e,r,n)=>{let c,h,d;const b={};if(e=e||{},t==null)return e;do{for(c=Object.getOwnPropertyNames(t),h=c.length;h-- >0;)d=c[h],(!n||n(d,t,e))&&!b[d]&&(e[d]=t[d],b[d]=!0);t=r!==!1&&se(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},_n=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},vn=t=>{if(!t)return null;if(Et(t))return t;let e=t.length;if(!Ee(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Sn=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&se(Uint8Array)),xn=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let c;for(;(c=n.next())&&!c.done;){const h=c.value;e.call(t,h[0],h[1])}},Cn=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},On=mt("HTMLFormElement"),An=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,c){return n.toUpperCase()+c}),le=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),En=mt("RegExp"),De=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Bt(r,(c,h)=>{let d;(d=e(c,h,t))!==!1&&(n[h]=d||c)}),Object.defineProperties(t,n)},Rn=t=>{De(t,(e,r)=>{if(ht(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ht(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Pn=(t,e)=>{const r={},n=c=>{c.forEach(h=>{r[h]=!0})};return Et(t)?n(t):n(String(t).split(e)),r},Dn=()=>{},Mn=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Xt="abcdefghijklmnopqrstuvwxyz",de="0123456789",Me={DIGIT:de,ALPHA:Xt,ALPHA_DIGIT:Xt+Xt.toUpperCase()+de},Tn=(t=16,e=Me.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function kn(t){return!!(t&&ht(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Bn=t=>{const e=new Array(10),r=(n,c)=>{if(Vt(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[c]=n;const h=Et(n)?[]:{};return Bt(n,(d,b)=>{const A=r(d,c+1);!kt(A)&&(h[b]=A)}),e[c]=void 0,h}}return n};return r(t,0)},$n=mt("AsyncFunction"),Nn=t=>t&&(Vt(t)||ht(t))&&ht(t.then)&&ht(t.catch),Te=((t,e)=>t?setImmediate:e?((r,n)=>(Ct.addEventListener("message",({source:c,data:h})=>{c===Ct&&h===r&&n.length&&n.shift()()},!1),c=>{n.push(c),Ct.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ht(Ct.postMessage)),jn=typeof queueMicrotask<"u"?queueMicrotask.bind(Ct):typeof process<"u"&&process.nextTick||Te,m={isArray:Et,isArrayBuffer:Ae,isBuffer:Ze,isFormData:un,isArrayBufferView:tn,isString:en,isNumber:Ee,isBoolean:nn,isObject:Vt,isPlainObject:Lt,isReadableStream:dn,isRequest:hn,isResponse:fn,isHeaders:pn,isUndefined:kt,isDate:rn,isFile:on,isBlob:sn,isRegExp:En,isFunction:ht,isStream:cn,isURLSearchParams:ln,isTypedArray:Sn,isFileList:an,forEach:Bt,merge:te,extend:mn,trim:gn,stripBOM:wn,inherits:yn,toFlatObject:bn,kindOf:Ht,kindOfTest:mt,endsWith:_n,toArray:vn,forEachEntry:xn,matchAll:Cn,isHTMLForm:On,hasOwnProperty:le,hasOwnProp:le,reduceDescriptors:De,freezeMethods:Rn,toObjectSet:Pn,toCamelCase:An,noop:Dn,toFiniteNumber:Mn,findKey:Re,global:Ct,isContextDefined:Pe,ALPHABET:Me,generateString:Tn,isSpecCompliantForm:kn,toJSONObject:Bn,isAsyncFn:$n,isThenable:Nn,setImmediate:Te,asap:jn};function z(t,e,r,n,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),c&&(this.response=c,this.status=c.status?c.status:null)}m.inherits(z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:m.toJSONObject(this.config),code:this.code,status:this.status}}});const ke=z.prototype,Be={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Be[t]={value:t}});Object.defineProperties(z,Be);Object.defineProperty(ke,"isAxiosError",{value:!0});z.from=(t,e,r,n,c,h)=>{const d=Object.create(ke);return m.toFlatObject(t,d,function(A){return A!==Error.prototype},b=>b!=="isAxiosError"),z.call(d,t.message,e,r,n,c),d.cause=t,d.name=t.name,h&&Object.assign(d,h),d};const Ln=null;function ee(t){return m.isPlainObject(t)||m.isArray(t)}function $e(t){return m.endsWith(t,"[]")?t.slice(0,-2):t}function he(t,e,r){return t?t.concat(e).map(function(c,h){return c=$e(c),!r&&h?"["+c+"]":c}).join(r?".":""):e}function qn(t){return m.isArray(t)&&!t.some(ee)}const zn=m.toFlatObject(m,{},null,function(e){return/^is[A-Z]/.test(e)});function Wt(t,e,r){if(!m.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=m.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,D){return!m.isUndefined(D[R])});const n=r.metaTokens,c=r.visitor||O,h=r.dots,d=r.indexes,A=(r.Blob||typeof Blob<"u"&&Blob)&&m.isSpecCompliantForm(e);if(!m.isFunction(c))throw new TypeError("visitor must be a function");function C(P){if(P===null)return"";if(m.isDate(P))return P.toISOString();if(!A&&m.isBlob(P))throw new z("Blob is not supported. Use a Buffer instead.");return m.isArrayBuffer(P)||m.isTypedArray(P)?A&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function O(P,R,D){let tt=P;if(P&&!D&&typeof P=="object"){if(m.endsWith(R,"{}"))R=n?R:R.slice(0,-2),P=JSON.stringify(P);else if(m.isArray(P)&&qn(P)||(m.isFileList(P)||m.endsWith(R,"[]"))&&(tt=m.toArray(P)))return R=$e(R),tt.forEach(function(Y,at){!(m.isUndefined(Y)||Y===null)&&e.append(d===!0?he([R],at,h):d===null?R:R+"[]",C(Y))}),!1}return ee(P)?!0:(e.append(he(D,R,h),C(P)),!1)}const M=[],W=Object.assign(zn,{defaultVisitor:O,convertValue:C,isVisitable:ee});function K(P,R){if(!m.isUndefined(P)){if(M.indexOf(P)!==-1)throw Error("Circular reference detected in "+R.join("."));M.push(P),m.forEach(P,function(tt,X){(!(m.isUndefined(tt)||tt===null)&&c.call(e,tt,m.isString(X)?X.trim():X,R,W))===!0&&K(tt,R?R.concat(X):[X])}),M.pop()}}if(!m.isObject(t))throw new TypeError("data must be an object");return K(t),e}function fe(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function ae(t,e){this._pairs=[],t&&Wt(t,this,e)}const Ne=ae.prototype;Ne.append=function(e,r){this._pairs.push([e,r])};Ne.toString=function(e){const r=e?function(n){return e.call(this,n,fe)}:fe;return this._pairs.map(function(c){return r(c[0])+"="+r(c[1])},"").join("&")};function In(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function je(t,e,r){if(!e)return t;const n=r&&r.encode||In;m.isFunction(r)&&(r={serialize:r});const c=r&&r.serialize;let h;if(c?h=c(e,r):h=m.isURLSearchParams(e)?e.toString():new ae(e,r).toString(n),h){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+h}return t}class pe{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){m.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Le={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fn=typeof URLSearchParams<"u"?URLSearchParams:ae,Un=typeof FormData<"u"?FormData:null,Hn=typeof Blob<"u"?Blob:null,Jn={isBrowser:!0,classes:{URLSearchParams:Fn,FormData:Un,Blob:Hn},protocols:["http","https","file","blob","url","data"]},ce=typeof window<"u"&&typeof document<"u",ne=typeof navigator=="object"&&navigator||void 0,Vn=ce&&(!ne||["ReactNative","NativeScript","NS"].indexOf(ne.product)<0),Wn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Kn=ce&&window.location.href||"http://localhost",Qn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ce,hasStandardBrowserEnv:Vn,hasStandardBrowserWebWorkerEnv:Wn,navigator:ne,origin:Kn},Symbol.toStringTag,{value:"Module"})),ut={...Qn,...Jn};function Xn(t,e){return Wt(t,new ut.classes.URLSearchParams,Object.assign({visitor:function(r,n,c,h){return ut.isNode&&m.isBuffer(r)?(this.append(n,r.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},e))}function Gn(t){return m.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Yn(t){const e={},r=Object.keys(t);let n;const c=r.length;let h;for(n=0;n<c;n++)h=r[n],e[h]=t[h];return e}function qe(t){function e(r,n,c,h){let d=r[h++];if(d==="__proto__")return!0;const b=Number.isFinite(+d),A=h>=r.length;return d=!d&&m.isArray(c)?c.length:d,A?(m.hasOwnProp(c,d)?c[d]=[c[d],n]:c[d]=n,!b):((!c[d]||!m.isObject(c[d]))&&(c[d]=[]),e(r,n,c[d],h)&&m.isArray(c[d])&&(c[d]=Yn(c[d])),!b)}if(m.isFormData(t)&&m.isFunction(t.entries)){const r={};return m.forEachEntry(t,(n,c)=>{e(Gn(n),c,r,0)}),r}return null}function Zn(t,e,r){if(m.isString(t))try{return(e||JSON.parse)(t),m.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(t)}const $t={transitional:Le,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",c=n.indexOf("application/json")>-1,h=m.isObject(e);if(h&&m.isHTMLForm(e)&&(e=new FormData(e)),m.isFormData(e))return c?JSON.stringify(qe(e)):e;if(m.isArrayBuffer(e)||m.isBuffer(e)||m.isStream(e)||m.isFile(e)||m.isBlob(e)||m.isReadableStream(e))return e;if(m.isArrayBufferView(e))return e.buffer;if(m.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let b;if(h){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Xn(e,this.formSerializer).toString();if((b=m.isFileList(e))||n.indexOf("multipart/form-data")>-1){const A=this.env&&this.env.FormData;return Wt(b?{"files[]":e}:e,A&&new A,this.formSerializer)}}return h||c?(r.setContentType("application/json",!1),Zn(e)):e}],transformResponse:[function(e){const r=this.transitional||$t.transitional,n=r&&r.forcedJSONParsing,c=this.responseType==="json";if(m.isResponse(e)||m.isReadableStream(e))return e;if(e&&m.isString(e)&&(n&&!this.responseType||c)){const d=!(r&&r.silentJSONParsing)&&c;try{return JSON.parse(e)}catch(b){if(d)throw b.name==="SyntaxError"?z.from(b,z.ERR_BAD_RESPONSE,this,null,this.response):b}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ut.classes.FormData,Blob:ut.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};m.forEach(["delete","get","head","post","put","patch"],t=>{$t.headers[t]={}});const tr=m.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),er=t=>{const e={};let r,n,c;return t&&t.split(`
`).forEach(function(d){c=d.indexOf(":"),r=d.substring(0,c).trim().toLowerCase(),n=d.substring(c+1).trim(),!(!r||e[r]&&tr[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},ge=Symbol("internals");function Tt(t){return t&&String(t).trim().toLowerCase()}function qt(t){return t===!1||t==null?t:m.isArray(t)?t.map(qt):String(t)}function nr(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const rr=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Gt(t,e,r,n,c){if(m.isFunction(n))return n.call(this,e,r);if(c&&(e=r),!!m.isString(e)){if(m.isString(n))return e.indexOf(n)!==-1;if(m.isRegExp(n))return n.test(e)}}function or(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function ir(t,e){const r=m.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(c,h,d){return this[n].call(this,e,c,h,d)},configurable:!0})})}class dt{constructor(e){e&&this.set(e)}set(e,r,n){const c=this;function h(b,A,C){const O=Tt(A);if(!O)throw new Error("header name must be a non-empty string");const M=m.findKey(c,O);(!M||c[M]===void 0||C===!0||C===void 0&&c[M]!==!1)&&(c[M||A]=qt(b))}const d=(b,A)=>m.forEach(b,(C,O)=>h(C,O,A));if(m.isPlainObject(e)||e instanceof this.constructor)d(e,r);else if(m.isString(e)&&(e=e.trim())&&!rr(e))d(er(e),r);else if(m.isHeaders(e))for(const[b,A]of e.entries())h(A,b,n);else e!=null&&h(r,e,n);return this}get(e,r){if(e=Tt(e),e){const n=m.findKey(this,e);if(n){const c=this[n];if(!r)return c;if(r===!0)return nr(c);if(m.isFunction(r))return r.call(this,c,n);if(m.isRegExp(r))return r.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Tt(e),e){const n=m.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Gt(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let c=!1;function h(d){if(d=Tt(d),d){const b=m.findKey(n,d);b&&(!r||Gt(n,n[b],b,r))&&(delete n[b],c=!0)}}return m.isArray(e)?e.forEach(h):h(e),c}clear(e){const r=Object.keys(this);let n=r.length,c=!1;for(;n--;){const h=r[n];(!e||Gt(this,this[h],h,e,!0))&&(delete this[h],c=!0)}return c}normalize(e){const r=this,n={};return m.forEach(this,(c,h)=>{const d=m.findKey(n,h);if(d){r[d]=qt(c),delete r[h];return}const b=e?or(h):String(h).trim();b!==h&&delete r[h],r[b]=qt(c),n[b]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return m.forEach(this,(n,c)=>{n!=null&&n!==!1&&(r[c]=e&&m.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(c=>n.set(c)),n}static accessor(e){const n=(this[ge]=this[ge]={accessors:{}}).accessors,c=this.prototype;function h(d){const b=Tt(d);n[b]||(ir(c,d),n[b]=!0)}return m.isArray(e)?e.forEach(h):h(e),this}}dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);m.reduceDescriptors(dt.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});m.freezeMethods(dt);function Yt(t,e){const r=this||$t,n=e||r,c=dt.from(n.headers);let h=n.data;return m.forEach(t,function(b){h=b.call(r,h,c.normalize(),e?e.status:void 0)}),c.normalize(),h}function ze(t){return!!(t&&t.__CANCEL__)}function Rt(t,e,r){z.call(this,t??"canceled",z.ERR_CANCELED,e,r),this.name="CanceledError"}m.inherits(Rt,z,{__CANCEL__:!0});function Ie(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new z("Request failed with status code "+r.status,[z.ERR_BAD_REQUEST,z.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function sr(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ar(t,e){t=t||10;const r=new Array(t),n=new Array(t);let c=0,h=0,d;return e=e!==void 0?e:1e3,function(A){const C=Date.now(),O=n[h];d||(d=C),r[c]=A,n[c]=C;let M=h,W=0;for(;M!==c;)W+=r[M++],M=M%t;if(c=(c+1)%t,c===h&&(h=(h+1)%t),C-d<e)return;const K=O&&C-O;return K?Math.round(W*1e3/K):void 0}}function cr(t,e){let r=0,n=1e3/e,c,h;const d=(C,O=Date.now())=>{r=O,c=null,h&&(clearTimeout(h),h=null),t.apply(null,C)};return[(...C)=>{const O=Date.now(),M=O-r;M>=n?d(C,O):(c=C,h||(h=setTimeout(()=>{h=null,d(c)},n-M)))},()=>c&&d(c)]}const Ft=(t,e,r=3)=>{let n=0;const c=ar(50,250);return cr(h=>{const d=h.loaded,b=h.lengthComputable?h.total:void 0,A=d-n,C=c(A),O=d<=b;n=d;const M={loaded:d,total:b,progress:b?d/b:void 0,bytes:A,rate:C||void 0,estimated:C&&b&&O?(b-d)/C:void 0,event:h,lengthComputable:b!=null,[e?"download":"upload"]:!0};t(M)},r)},me=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},we=t=>(...e)=>m.asap(()=>t(...e)),ur=ut.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,ut.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(ut.origin),ut.navigator&&/(msie|trident)/i.test(ut.navigator.userAgent)):()=>!0,lr=ut.hasStandardBrowserEnv?{write(t,e,r,n,c,h){const d=[t+"="+encodeURIComponent(e)];m.isNumber(r)&&d.push("expires="+new Date(r).toGMTString()),m.isString(n)&&d.push("path="+n),m.isString(c)&&d.push("domain="+c),h===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dr(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function hr(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Fe(t,e){return t&&!dr(e)?hr(t,e):e}const ye=t=>t instanceof dt?{...t}:t;function At(t,e){e=e||{};const r={};function n(C,O,M,W){return m.isPlainObject(C)&&m.isPlainObject(O)?m.merge.call({caseless:W},C,O):m.isPlainObject(O)?m.merge({},O):m.isArray(O)?O.slice():O}function c(C,O,M,W){if(m.isUndefined(O)){if(!m.isUndefined(C))return n(void 0,C,M,W)}else return n(C,O,M,W)}function h(C,O){if(!m.isUndefined(O))return n(void 0,O)}function d(C,O){if(m.isUndefined(O)){if(!m.isUndefined(C))return n(void 0,C)}else return n(void 0,O)}function b(C,O,M){if(M in e)return n(C,O);if(M in t)return n(void 0,C)}const A={url:h,method:h,data:h,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:b,headers:(C,O,M)=>c(ye(C),ye(O),M,!0)};return m.forEach(Object.keys(Object.assign({},t,e)),function(O){const M=A[O]||c,W=M(t[O],e[O],O);m.isUndefined(W)&&M!==b||(r[O]=W)}),r}const Ue=t=>{const e=At({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:c,xsrfCookieName:h,headers:d,auth:b}=e;e.headers=d=dt.from(d),e.url=je(Fe(e.baseURL,e.url),t.params,t.paramsSerializer),b&&d.set("Authorization","Basic "+btoa((b.username||"")+":"+(b.password?unescape(encodeURIComponent(b.password)):"")));let A;if(m.isFormData(r)){if(ut.hasStandardBrowserEnv||ut.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((A=d.getContentType())!==!1){const[C,...O]=A?A.split(";").map(M=>M.trim()).filter(Boolean):[];d.setContentType([C||"multipart/form-data",...O].join("; "))}}if(ut.hasStandardBrowserEnv&&(n&&m.isFunction(n)&&(n=n(e)),n||n!==!1&&ur(e.url))){const C=c&&h&&lr.read(h);C&&d.set(c,C)}return e},fr=typeof XMLHttpRequest<"u",pr=fr&&function(t){return new Promise(function(r,n){const c=Ue(t);let h=c.data;const d=dt.from(c.headers).normalize();let{responseType:b,onUploadProgress:A,onDownloadProgress:C}=c,O,M,W,K,P;function R(){K&&K(),P&&P(),c.cancelToken&&c.cancelToken.unsubscribe(O),c.signal&&c.signal.removeEventListener("abort",O)}let D=new XMLHttpRequest;D.open(c.method.toUpperCase(),c.url,!0),D.timeout=c.timeout;function tt(){if(!D)return;const Y=dt.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),it={data:!b||b==="text"||b==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:Y,config:t,request:D};Ie(function(ft){r(ft),R()},function(ft){n(ft),R()},it),D=null}"onloadend"in D?D.onloadend=tt:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(tt)},D.onabort=function(){D&&(n(new z("Request aborted",z.ECONNABORTED,t,D)),D=null)},D.onerror=function(){n(new z("Network Error",z.ERR_NETWORK,t,D)),D=null},D.ontimeout=function(){let at=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const it=c.transitional||Le;c.timeoutErrorMessage&&(at=c.timeoutErrorMessage),n(new z(at,it.clarifyTimeoutError?z.ETIMEDOUT:z.ECONNABORTED,t,D)),D=null},h===void 0&&d.setContentType(null),"setRequestHeader"in D&&m.forEach(d.toJSON(),function(at,it){D.setRequestHeader(it,at)}),m.isUndefined(c.withCredentials)||(D.withCredentials=!!c.withCredentials),b&&b!=="json"&&(D.responseType=c.responseType),C&&([W,P]=Ft(C,!0),D.addEventListener("progress",W)),A&&D.upload&&([M,K]=Ft(A),D.upload.addEventListener("progress",M),D.upload.addEventListener("loadend",K)),(c.cancelToken||c.signal)&&(O=Y=>{D&&(n(!Y||Y.type?new Rt(null,t,D):Y),D.abort(),D=null)},c.cancelToken&&c.cancelToken.subscribe(O),c.signal&&(c.signal.aborted?O():c.signal.addEventListener("abort",O)));const X=sr(c.url);if(X&&ut.protocols.indexOf(X)===-1){n(new z("Unsupported protocol "+X+":",z.ERR_BAD_REQUEST,t));return}D.send(h||null)})},gr=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,c;const h=function(C){if(!c){c=!0,b();const O=C instanceof Error?C:this.reason;n.abort(O instanceof z?O:new Rt(O instanceof Error?O.message:O))}};let d=e&&setTimeout(()=>{d=null,h(new z(`timeout ${e} of ms exceeded`,z.ETIMEDOUT))},e);const b=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(C=>{C.unsubscribe?C.unsubscribe(h):C.removeEventListener("abort",h)}),t=null)};t.forEach(C=>C.addEventListener("abort",h));const{signal:A}=n;return A.unsubscribe=()=>m.asap(b),A}},mr=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,c;for(;n<r;)c=n+e,yield t.slice(n,c),n=c},wr=async function*(t,e){for await(const r of yr(t))yield*mr(r,e)},yr=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},be=(t,e,r,n)=>{const c=wr(t,e);let h=0,d,b=A=>{d||(d=!0,n&&n(A))};return new ReadableStream({async pull(A){try{const{done:C,value:O}=await c.next();if(C){b(),A.close();return}let M=O.byteLength;if(r){let W=h+=M;r(W)}A.enqueue(new Uint8Array(O))}catch(C){throw b(C),C}},cancel(A){return b(A),c.return()}},{highWaterMark:2})},Kt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",He=Kt&&typeof ReadableStream=="function",br=Kt&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Je=(t,...e)=>{try{return!!t(...e)}catch{return!1}},_r=He&&Je(()=>{let t=!1;const e=new Request(ut.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),_e=64*1024,re=He&&Je(()=>m.isReadableStream(new Response("").body)),Ut={stream:re&&(t=>t.body)};Kt&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ut[e]&&(Ut[e]=m.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new z(`Response type '${e}' is not supported`,z.ERR_NOT_SUPPORT,n)})})})(new Response);const vr=async t=>{if(t==null)return 0;if(m.isBlob(t))return t.size;if(m.isSpecCompliantForm(t))return(await new Request(ut.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(m.isArrayBufferView(t)||m.isArrayBuffer(t))return t.byteLength;if(m.isURLSearchParams(t)&&(t=t+""),m.isString(t))return(await br(t)).byteLength},Sr=async(t,e)=>{const r=m.toFiniteNumber(t.getContentLength());return r??vr(e)},xr=Kt&&(async t=>{let{url:e,method:r,data:n,signal:c,cancelToken:h,timeout:d,onDownloadProgress:b,onUploadProgress:A,responseType:C,headers:O,withCredentials:M="same-origin",fetchOptions:W}=Ue(t);C=C?(C+"").toLowerCase():"text";let K=gr([c,h&&h.toAbortSignal()],d),P;const R=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let D;try{if(A&&_r&&r!=="get"&&r!=="head"&&(D=await Sr(O,n))!==0){let it=new Request(e,{method:"POST",body:n,duplex:"half"}),lt;if(m.isFormData(n)&&(lt=it.headers.get("content-type"))&&O.setContentType(lt),it.body){const[ft,_t]=me(D,Ft(we(A)));n=be(it.body,_e,ft,_t)}}m.isString(M)||(M=M?"include":"omit");const tt="credentials"in Request.prototype;P=new Request(e,{...W,signal:K,method:r.toUpperCase(),headers:O.normalize().toJSON(),body:n,duplex:"half",credentials:tt?M:void 0});let X=await fetch(P);const Y=re&&(C==="stream"||C==="response");if(re&&(b||Y&&R)){const it={};["status","statusText","headers"].forEach(bt=>{it[bt]=X[bt]});const lt=m.toFiniteNumber(X.headers.get("content-length")),[ft,_t]=b&&me(lt,Ft(we(b),!0))||[];X=new Response(be(X.body,_e,ft,()=>{_t&&_t(),R&&R()}),it)}C=C||"text";let at=await Ut[m.findKey(Ut,C)||"text"](X,t);return!Y&&R&&R(),await new Promise((it,lt)=>{Ie(it,lt,{data:at,headers:dt.from(X.headers),status:X.status,statusText:X.statusText,config:t,request:P})})}catch(tt){throw R&&R(),tt&&tt.name==="TypeError"&&/fetch/i.test(tt.message)?Object.assign(new z("Network Error",z.ERR_NETWORK,t,P),{cause:tt.cause||tt}):z.from(tt,tt&&tt.code,t,P)}}),oe={http:Ln,xhr:pr,fetch:xr};m.forEach(oe,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ve=t=>`- ${t}`,Cr=t=>m.isFunction(t)||t===null||t===!1,Ve={getAdapter:t=>{t=m.isArray(t)?t:[t];const{length:e}=t;let r,n;const c={};for(let h=0;h<e;h++){r=t[h];let d;if(n=r,!Cr(r)&&(n=oe[(d=String(r)).toLowerCase()],n===void 0))throw new z(`Unknown adapter '${d}'`);if(n)break;c[d||"#"+h]=n}if(!n){const h=Object.entries(c).map(([b,A])=>`adapter ${b} `+(A===!1?"is not supported by the environment":"is not available in the build"));let d=e?h.length>1?`since :
`+h.map(ve).join(`
`):" "+ve(h[0]):"as no adapter specified";throw new z("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return n},adapters:oe};function Zt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Rt(null,t)}function Se(t){return Zt(t),t.headers=dt.from(t.headers),t.data=Yt.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ve.getAdapter(t.adapter||$t.adapter)(t).then(function(n){return Zt(t),n.data=Yt.call(t,t.transformResponse,n),n.headers=dt.from(n.headers),n},function(n){return ze(n)||(Zt(t),n&&n.response&&(n.response.data=Yt.call(t,t.transformResponse,n.response),n.response.headers=dt.from(n.response.headers))),Promise.reject(n)})}const We="1.7.9",Qt={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Qt[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const xe={};Qt.transitional=function(e,r,n){function c(h,d){return"[Axios v"+We+"] Transitional option '"+h+"'"+d+(n?". "+n:"")}return(h,d,b)=>{if(e===!1)throw new z(c(d," has been removed"+(r?" in "+r:"")),z.ERR_DEPRECATED);return r&&!xe[d]&&(xe[d]=!0,console.warn(c(d," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(h,d,b):!0}};Qt.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Or(t,e,r){if(typeof t!="object")throw new z("options must be an object",z.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let c=n.length;for(;c-- >0;){const h=n[c],d=e[h];if(d){const b=t[h],A=b===void 0||d(b,h,t);if(A!==!0)throw new z("option "+h+" must be "+A,z.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new z("Unknown option "+h,z.ERR_BAD_OPTION)}}const zt={assertOptions:Or,validators:Qt},yt=zt.validators;class Ot{constructor(e){this.defaults=e,this.interceptors={request:new pe,response:new pe}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const h=c.stack?c.stack.replace(/^.+\n/,""):"";try{n.stack?h&&!String(n.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+h):n.stack=h}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=At(this.defaults,r);const{transitional:n,paramsSerializer:c,headers:h}=r;n!==void 0&&zt.assertOptions(n,{silentJSONParsing:yt.transitional(yt.boolean),forcedJSONParsing:yt.transitional(yt.boolean),clarifyTimeoutError:yt.transitional(yt.boolean)},!1),c!=null&&(m.isFunction(c)?r.paramsSerializer={serialize:c}:zt.assertOptions(c,{encode:yt.function,serialize:yt.function},!0)),zt.assertOptions(r,{baseUrl:yt.spelling("baseURL"),withXsrfToken:yt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let d=h&&m.merge(h.common,h[r.method]);h&&m.forEach(["delete","get","head","post","put","patch","common"],P=>{delete h[P]}),r.headers=dt.concat(d,h);const b=[];let A=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(r)===!1||(A=A&&R.synchronous,b.unshift(R.fulfilled,R.rejected))});const C=[];this.interceptors.response.forEach(function(R){C.push(R.fulfilled,R.rejected)});let O,M=0,W;if(!A){const P=[Se.bind(this),void 0];for(P.unshift.apply(P,b),P.push.apply(P,C),W=P.length,O=Promise.resolve(r);M<W;)O=O.then(P[M++],P[M++]);return O}W=b.length;let K=r;for(M=0;M<W;){const P=b[M++],R=b[M++];try{K=P(K)}catch(D){R.call(this,D);break}}try{O=Se.call(this,K)}catch(P){return Promise.reject(P)}for(M=0,W=C.length;M<W;)O=O.then(C[M++],C[M++]);return O}getUri(e){e=At(this.defaults,e);const r=Fe(e.baseURL,e.url);return je(r,e.params,e.paramsSerializer)}}m.forEach(["delete","get","head","options"],function(e){Ot.prototype[e]=function(r,n){return this.request(At(n||{},{method:e,url:r,data:(n||{}).data}))}});m.forEach(["post","put","patch"],function(e){function r(n){return function(h,d,b){return this.request(At(b||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:h,data:d}))}}Ot.prototype[e]=r(),Ot.prototype[e+"Form"]=r(!0)});class ue{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(h){r=h});const n=this;this.promise.then(c=>{if(!n._listeners)return;let h=n._listeners.length;for(;h-- >0;)n._listeners[h](c);n._listeners=null}),this.promise.then=c=>{let h;const d=new Promise(b=>{n.subscribe(b),h=b}).then(c);return d.cancel=function(){n.unsubscribe(h)},d},e(function(h,d,b){n.reason||(n.reason=new Rt(h,d,b),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new ue(function(c){e=c}),cancel:e}}}function Ar(t){return function(r){return t.apply(null,r)}}function Er(t){return m.isObject(t)&&t.isAxiosError===!0}const ie={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ie).forEach(([t,e])=>{ie[e]=t});function Ke(t){const e=new Ot(t),r=Oe(Ot.prototype.request,e);return m.extend(r,Ot.prototype,e,{allOwnKeys:!0}),m.extend(r,e,null,{allOwnKeys:!0}),r.create=function(c){return Ke(At(t,c))},r}const st=Ke($t);st.Axios=Ot;st.CanceledError=Rt;st.CancelToken=ue;st.isCancel=ze;st.VERSION=We;st.toFormData=Wt;st.AxiosError=z;st.Cancel=st.CanceledError;st.all=function(e){return Promise.all(e)};st.spread=Ar;st.isAxiosError=Er;st.mergeConfig=At;st.AxiosHeaders=dt;st.formToJSON=t=>qe(m.isHTMLForm(t)?new FormData(t):t);st.getAdapter=Ve.getAdapter;st.HttpStatusCode=ie;st.default=st;const Rr={apiUrl:"https://ardisplay.io"};var It={exports:{}},Pr=It.exports,Ce;function Dr(){return Ce||(Ce=1,function(t,e){(function(r,n){t.exports=n()})(Pr,()=>(()=>{var r={873:(d,b)=>{var A,C,O=function(){var M=function(o,a){var s=o,i=tt[a],l=null,f=0,p=null,y=[],_={},T=function(g,v){l=function(w){for(var S=new Array(w),x=0;x<w;x+=1){S[x]=new Array(w);for(var B=0;B<w;B+=1)S[x][B]=null}return S}(f=4*s+17),E(0,0),E(f-7,0),E(0,f-7),j(),k(),$(g,v),s>=7&&Q(g),p==null&&(p=J(s,i,y)),G(p,v)},E=function(g,v){for(var w=-1;w<=7;w+=1)if(!(g+w<=-1||f<=g+w))for(var S=-1;S<=7;S+=1)v+S<=-1||f<=v+S||(l[g+w][v+S]=0<=w&&w<=6&&(S==0||S==6)||0<=S&&S<=6&&(w==0||w==6)||2<=w&&w<=4&&2<=S&&S<=4)},k=function(){for(var g=8;g<f-8;g+=1)l[g][6]==null&&(l[g][6]=g%2==0);for(var v=8;v<f-8;v+=1)l[6][v]==null&&(l[6][v]=v%2==0)},j=function(){for(var g=X.getPatternPosition(s),v=0;v<g.length;v+=1)for(var w=0;w<g.length;w+=1){var S=g[v],x=g[w];if(l[S][x]==null)for(var B=-2;B<=2;B+=1)for(var I=-2;I<=2;I+=1)l[S+B][x+I]=B==-2||B==2||I==-2||I==2||B==0&&I==0}},Q=function(g){for(var v=X.getBCHTypeNumber(s),w=0;w<18;w+=1){var S=!g&&(v>>w&1)==1;l[Math.floor(w/3)][w%3+f-8-3]=S}for(w=0;w<18;w+=1)S=!g&&(v>>w&1)==1,l[w%3+f-8-3][Math.floor(w/3)]=S},$=function(g,v){for(var w=i<<3|v,S=X.getBCHTypeInfo(w),x=0;x<15;x+=1){var B=!g&&(S>>x&1)==1;x<6?l[x][8]=B:x<8?l[x+1][8]=B:l[f-15+x][8]=B}for(x=0;x<15;x+=1)B=!g&&(S>>x&1)==1,x<8?l[8][f-x-1]=B:x<9?l[8][15-x-1+1]=B:l[8][15-x-1]=B;l[f-8][8]=!g},G=function(g,v){for(var w=-1,S=f-1,x=7,B=0,I=X.getMaskFunction(v),q=f-1;q>0;q-=2)for(q==6&&(q-=1);;){for(var V=0;V<2;V+=1)if(l[S][q-V]==null){var H=!1;B<g.length&&(H=(g[B]>>>x&1)==1),I(S,q-V)&&(H=!H),l[S][q-V]=H,(x-=1)==-1&&(B+=1,x=7)}if((S+=w)<0||f<=S){S-=w,w=-w;break}}},J=function(g,v,w){for(var S=it.getRSBlocks(g,v),x=lt(),B=0;B<w.length;B+=1){var I=w[B];x.put(I.getMode(),4),x.put(I.getLength(),X.getLengthInBits(I.getMode(),g)),I.write(x)}var q=0;for(B=0;B<S.length;B+=1)q+=S[B].dataCount;if(x.getLengthInBits()>8*q)throw"code length overflow. ("+x.getLengthInBits()+">"+8*q+")";for(x.getLengthInBits()+4<=8*q&&x.put(0,4);x.getLengthInBits()%8!=0;)x.putBit(!1);for(;!(x.getLengthInBits()>=8*q||(x.put(236,8),x.getLengthInBits()>=8*q));)x.put(17,8);return function(V,H){for(var F=0,et=0,nt=0,ot=new Array(H.length),rt=new Array(H.length),L=0;L<H.length;L+=1){var xt=H[L].dataCount,Dt=H[L].totalCount-xt;et=Math.max(et,xt),nt=Math.max(nt,Dt),ot[L]=new Array(xt);for(var Z=0;Z<ot[L].length;Z+=1)ot[L][Z]=255&V.getBuffer()[Z+F];F+=xt;var wt=X.getErrorCorrectPolynomial(Dt),pt=at(ot[L],wt.getLength()-1).mod(wt);for(rt[L]=new Array(wt.getLength()-1),Z=0;Z<rt[L].length;Z+=1){var vt=Z+pt.getLength()-rt[L].length;rt[L][Z]=vt>=0?pt.getAt(vt):0}}var jt=0;for(Z=0;Z<H.length;Z+=1)jt+=H[Z].totalCount;var Mt=new Array(jt),gt=0;for(Z=0;Z<et;Z+=1)for(L=0;L<H.length;L+=1)Z<ot[L].length&&(Mt[gt]=ot[L][Z],gt+=1);for(Z=0;Z<nt;Z+=1)for(L=0;L<H.length;L+=1)Z<rt[L].length&&(Mt[gt]=rt[L][Z],gt+=1);return Mt}(x,S)};_.addData=function(g,v){var w=null;switch(v=v||"Byte"){case"Numeric":w=ft(g);break;case"Alphanumeric":w=_t(g);break;case"Byte":w=bt(g);break;case"Kanji":w=Pt(g);break;default:throw"mode:"+v}y.push(w),p=null},_.isDark=function(g,v){if(g<0||f<=g||v<0||f<=v)throw g+","+v;return l[g][v]},_.getModuleCount=function(){return f},_.make=function(){if(s<1){for(var g=1;g<40;g++){for(var v=it.getRSBlocks(g,i),w=lt(),S=0;S<y.length;S++){var x=y[S];w.put(x.getMode(),4),w.put(x.getLength(),X.getLengthInBits(x.getMode(),g)),x.write(w)}var B=0;for(S=0;S<v.length;S++)B+=v[S].dataCount;if(w.getLengthInBits()<=8*B)break}s=g}T(!1,function(){for(var I=0,q=0,V=0;V<8;V+=1){T(!0,V);var H=X.getLostPoint(_);(V==0||I>H)&&(I=H,q=V)}return q}())},_.createTableTag=function(g,v){g=g||2;var w="";w+='<table style="',w+=" border-width: 0px; border-style: none;",w+=" border-collapse: collapse;",w+=" padding: 0px; margin: "+(v=v===void 0?4*g:v)+"px;",w+='">',w+="<tbody>";for(var S=0;S<_.getModuleCount();S+=1){w+="<tr>";for(var x=0;x<_.getModuleCount();x+=1)w+='<td style="',w+=" border-width: 0px; border-style: none;",w+=" border-collapse: collapse;",w+=" padding: 0px; margin: 0px;",w+=" width: "+g+"px;",w+=" height: "+g+"px;",w+=" background-color: ",w+=_.isDark(S,x)?"#000000":"#ffffff",w+=";",w+='"/>';w+="</tr>"}return(w+="</tbody>")+"</table>"},_.createSvgTag=function(g,v,w,S){var x={};typeof arguments[0]=="object"&&(g=(x=arguments[0]).cellSize,v=x.margin,w=x.alt,S=x.title),g=g||2,v=v===void 0?4*g:v,(w=typeof w=="string"?{text:w}:w||{}).text=w.text||null,w.id=w.text?w.id||"qrcode-description":null,(S=typeof S=="string"?{text:S}:S||{}).text=S.text||null,S.id=S.text?S.id||"qrcode-title":null;var B,I,q,V,H=_.getModuleCount()*g+2*v,F="";for(V="l"+g+",0 0,"+g+" -"+g+",0 0,-"+g+"z ",F+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',F+=x.scalable?"":' width="'+H+'px" height="'+H+'px"',F+=' viewBox="0 0 '+H+" "+H+'" ',F+=' preserveAspectRatio="xMinYMin meet"',F+=S.text||w.text?' role="img" aria-labelledby="'+N([S.id,w.id].join(" ").trim())+'"':"",F+=">",F+=S.text?'<title id="'+N(S.id)+'">'+N(S.text)+"</title>":"",F+=w.text?'<description id="'+N(w.id)+'">'+N(w.text)+"</description>":"",F+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',F+='<path d="',I=0;I<_.getModuleCount();I+=1)for(q=I*g+v,B=0;B<_.getModuleCount();B+=1)_.isDark(I,B)&&(F+="M"+(B*g+v)+","+q+V);return(F+='" stroke="transparent" fill="black"/>')+"</svg>"},_.createDataURL=function(g,v){g=g||2,v=v===void 0?4*g:v;var w=_.getModuleCount()*g+2*v,S=v,x=w-v;return u(w,w,function(B,I){if(S<=B&&B<x&&S<=I&&I<x){var q=Math.floor((B-S)/g),V=Math.floor((I-S)/g);return _.isDark(V,q)?0:1}return 1})},_.createImgTag=function(g,v,w){g=g||2,v=v===void 0?4*g:v;var S=_.getModuleCount()*g+2*v,x="";return x+="<img",x+=' src="',x+=_.createDataURL(g,v),x+='"',x+=' width="',x+=S,x+='"',x+=' height="',x+=S,x+='"',w&&(x+=' alt="',x+=N(w),x+='"'),x+"/>"};var N=function(g){for(var v="",w=0;w<g.length;w+=1){var S=g.charAt(w);switch(S){case"<":v+="&lt;";break;case">":v+="&gt;";break;case"&":v+="&amp;";break;case'"':v+="&quot;";break;default:v+=S}}return v};return _.createASCII=function(g,v){if((g=g||1)<2)return function(ot){ot=ot===void 0?2:ot;var rt,L,xt,Dt,Z,wt=1*_.getModuleCount()+2*ot,pt=ot,vt=wt-ot,jt={"██":"█","█ ":"▀"," █":"▄","  ":" "},Mt={"██":"▀","█ ":"▀"," █":" ","  ":" "},gt="";for(rt=0;rt<wt;rt+=2){for(xt=Math.floor((rt-pt)/1),Dt=Math.floor((rt+1-pt)/1),L=0;L<wt;L+=1)Z="█",pt<=L&&L<vt&&pt<=rt&&rt<vt&&_.isDark(xt,Math.floor((L-pt)/1))&&(Z=" "),pt<=L&&L<vt&&pt<=rt+1&&rt+1<vt&&_.isDark(Dt,Math.floor((L-pt)/1))?Z+=" ":Z+="█",gt+=ot<1&&rt+1>=vt?Mt[Z]:jt[Z];gt+=`
`}return wt%2&&ot>0?gt.substring(0,gt.length-wt-1)+Array(wt+1).join("▀"):gt.substring(0,gt.length-1)}(v);g-=1,v=v===void 0?2*g:v;var w,S,x,B,I=_.getModuleCount()*g+2*v,q=v,V=I-v,H=Array(g+1).join("██"),F=Array(g+1).join("  "),et="",nt="";for(w=0;w<I;w+=1){for(x=Math.floor((w-q)/g),nt="",S=0;S<I;S+=1)B=1,q<=S&&S<V&&q<=w&&w<V&&_.isDark(x,Math.floor((S-q)/g))&&(B=0),nt+=B?H:F;for(x=0;x<g;x+=1)et+=nt+`
`}return et.substring(0,et.length-1)},_.renderTo2dContext=function(g,v){v=v||2;for(var w=_.getModuleCount(),S=0;S<w;S++)for(var x=0;x<w;x++)g.fillStyle=_.isDark(S,x)?"black":"white",g.fillRect(S*v,x*v,v,v)},_};M.stringToBytes=(M.stringToBytesFuncs={default:function(o){for(var a=[],s=0;s<o.length;s+=1){var i=o.charCodeAt(s);a.push(255&i)}return a}}).default,M.createStringToBytes=function(o,a){var s=function(){for(var l=U(o),f=function(){var k=l.read();if(k==-1)throw"eof";return k},p=0,y={};;){var _=l.read();if(_==-1)break;var T=f(),E=f()<<8|f();y[String.fromCharCode(_<<8|T)]=E,p+=1}if(p!=a)throw p+" != "+a;return y}(),i=63;return function(l){for(var f=[],p=0;p<l.length;p+=1){var y=l.charCodeAt(p);if(y<128)f.push(y);else{var _=s[l.charAt(p)];typeof _=="number"?(255&_)==_?f.push(_):(f.push(_>>>8),f.push(255&_)):f.push(i)}}return f}};var W,K,P,R,D,tt={L:1,M:0,Q:3,H:2},X=(W=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],K=1335,P=7973,D=function(o){for(var a=0;o!=0;)a+=1,o>>>=1;return a},(R={}).getBCHTypeInfo=function(o){for(var a=o<<10;D(a)-D(K)>=0;)a^=K<<D(a)-D(K);return 21522^(o<<10|a)},R.getBCHTypeNumber=function(o){for(var a=o<<12;D(a)-D(P)>=0;)a^=P<<D(a)-D(P);return o<<12|a},R.getPatternPosition=function(o){return W[o-1]},R.getMaskFunction=function(o){switch(o){case 0:return function(a,s){return(a+s)%2==0};case 1:return function(a,s){return a%2==0};case 2:return function(a,s){return s%3==0};case 3:return function(a,s){return(a+s)%3==0};case 4:return function(a,s){return(Math.floor(a/2)+Math.floor(s/3))%2==0};case 5:return function(a,s){return a*s%2+a*s%3==0};case 6:return function(a,s){return(a*s%2+a*s%3)%2==0};case 7:return function(a,s){return(a*s%3+(a+s)%2)%2==0};default:throw"bad maskPattern:"+o}},R.getErrorCorrectPolynomial=function(o){for(var a=at([1],0),s=0;s<o;s+=1)a=a.multiply(at([1,Y.gexp(s)],0));return a},R.getLengthInBits=function(o,a){if(1<=a&&a<10)switch(o){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+o}else if(a<27)switch(o){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+o}else{if(!(a<41))throw"type:"+a;switch(o){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+o}}},R.getLostPoint=function(o){for(var a=o.getModuleCount(),s=0,i=0;i<a;i+=1)for(var l=0;l<a;l+=1){for(var f=0,p=o.isDark(i,l),y=-1;y<=1;y+=1)if(!(i+y<0||a<=i+y))for(var _=-1;_<=1;_+=1)l+_<0||a<=l+_||y==0&&_==0||p==o.isDark(i+y,l+_)&&(f+=1);f>5&&(s+=3+f-5)}for(i=0;i<a-1;i+=1)for(l=0;l<a-1;l+=1){var T=0;o.isDark(i,l)&&(T+=1),o.isDark(i+1,l)&&(T+=1),o.isDark(i,l+1)&&(T+=1),o.isDark(i+1,l+1)&&(T+=1),T!=0&&T!=4||(s+=3)}for(i=0;i<a;i+=1)for(l=0;l<a-6;l+=1)o.isDark(i,l)&&!o.isDark(i,l+1)&&o.isDark(i,l+2)&&o.isDark(i,l+3)&&o.isDark(i,l+4)&&!o.isDark(i,l+5)&&o.isDark(i,l+6)&&(s+=40);for(l=0;l<a;l+=1)for(i=0;i<a-6;i+=1)o.isDark(i,l)&&!o.isDark(i+1,l)&&o.isDark(i+2,l)&&o.isDark(i+3,l)&&o.isDark(i+4,l)&&!o.isDark(i+5,l)&&o.isDark(i+6,l)&&(s+=40);var E=0;for(l=0;l<a;l+=1)for(i=0;i<a;i+=1)o.isDark(i,l)&&(E+=1);return s+Math.abs(100*E/a/a-50)/5*10},R),Y=function(){for(var o=new Array(256),a=new Array(256),s=0;s<8;s+=1)o[s]=1<<s;for(s=8;s<256;s+=1)o[s]=o[s-4]^o[s-5]^o[s-6]^o[s-8];for(s=0;s<255;s+=1)a[o[s]]=s;return{glog:function(i){if(i<1)throw"glog("+i+")";return a[i]},gexp:function(i){for(;i<0;)i+=255;for(;i>=256;)i-=255;return o[i]}}}();function at(o,a){if(o.length===void 0)throw o.length+"/"+a;var s=function(){for(var l=0;l<o.length&&o[l]==0;)l+=1;for(var f=new Array(o.length-l+a),p=0;p<o.length-l;p+=1)f[p]=o[p+l];return f}(),i={getAt:function(l){return s[l]},getLength:function(){return s.length},multiply:function(l){for(var f=new Array(i.getLength()+l.getLength()-1),p=0;p<i.getLength();p+=1)for(var y=0;y<l.getLength();y+=1)f[p+y]^=Y.gexp(Y.glog(i.getAt(p))+Y.glog(l.getAt(y)));return at(f,0)},mod:function(l){if(i.getLength()-l.getLength()<0)return i;for(var f=Y.glog(i.getAt(0))-Y.glog(l.getAt(0)),p=new Array(i.getLength()),y=0;y<i.getLength();y+=1)p[y]=i.getAt(y);for(y=0;y<l.getLength();y+=1)p[y]^=Y.gexp(Y.glog(l.getAt(y))+f);return at(p,0).mod(l)}};return i}var it=function(){var o=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a=function(i,l){var f={};return f.totalCount=i,f.dataCount=l,f},s={getRSBlocks:function(i,l){var f=function(Q,$){switch($){case tt.L:return o[4*(Q-1)+0];case tt.M:return o[4*(Q-1)+1];case tt.Q:return o[4*(Q-1)+2];case tt.H:return o[4*(Q-1)+3];default:return}}(i,l);if(f===void 0)throw"bad rs block @ typeNumber:"+i+"/errorCorrectionLevel:"+l;for(var p=f.length/3,y=[],_=0;_<p;_+=1)for(var T=f[3*_+0],E=f[3*_+1],k=f[3*_+2],j=0;j<T;j+=1)y.push(a(E,k));return y}};return s}(),lt=function(){var o=[],a=0,s={getBuffer:function(){return o},getAt:function(i){var l=Math.floor(i/8);return(o[l]>>>7-i%8&1)==1},put:function(i,l){for(var f=0;f<l;f+=1)s.putBit((i>>>l-f-1&1)==1)},getLengthInBits:function(){return a},putBit:function(i){var l=Math.floor(a/8);o.length<=l&&o.push(0),i&&(o[l]|=128>>>a%8),a+=1}};return s},ft=function(o){var a=o,s={getMode:function(){return 1},getLength:function(f){return a.length},write:function(f){for(var p=a,y=0;y+2<p.length;)f.put(i(p.substring(y,y+3)),10),y+=3;y<p.length&&(p.length-y==1?f.put(i(p.substring(y,y+1)),4):p.length-y==2&&f.put(i(p.substring(y,y+2)),7))}},i=function(f){for(var p=0,y=0;y<f.length;y+=1)p=10*p+l(f.charAt(y));return p},l=function(f){if("0"<=f&&f<="9")return f.charCodeAt(0)-48;throw"illegal char :"+f};return s},_t=function(o){var a=o,s={getMode:function(){return 2},getLength:function(l){return a.length},write:function(l){for(var f=a,p=0;p+1<f.length;)l.put(45*i(f.charAt(p))+i(f.charAt(p+1)),11),p+=2;p<f.length&&l.put(i(f.charAt(p)),6)}},i=function(l){if("0"<=l&&l<="9")return l.charCodeAt(0)-48;if("A"<=l&&l<="Z")return l.charCodeAt(0)-65+10;switch(l){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+l}};return s},bt=function(o){var a=M.stringToBytes(o);return{getMode:function(){return 4},getLength:function(s){return a.length},write:function(s){for(var i=0;i<a.length;i+=1)s.put(a[i],8)}}},Pt=function(o){var a=M.stringToBytesFuncs.SJIS;if(!a)throw"sjis not supported.";(function(){var l=a("友");if(l.length!=2||(l[0]<<8|l[1])!=38726)throw"sjis not supported."})();var s=a(o),i={getMode:function(){return 8},getLength:function(l){return~~(s.length/2)},write:function(l){for(var f=s,p=0;p+1<f.length;){var y=(255&f[p])<<8|255&f[p+1];if(33088<=y&&y<=40956)y-=33088;else{if(!(57408<=y&&y<=60351))throw"illegal char at "+(p+1)+"/"+y;y-=49472}y=192*(y>>>8&255)+(255&y),l.put(y,13),p+=2}if(p<f.length)throw"illegal char at "+(p+1)}};return i},Nt=function(){var o=[],a={writeByte:function(s){o.push(255&s)},writeShort:function(s){a.writeByte(s),a.writeByte(s>>>8)},writeBytes:function(s,i,l){i=i||0,l=l||s.length;for(var f=0;f<l;f+=1)a.writeByte(s[f+i])},writeString:function(s){for(var i=0;i<s.length;i+=1)a.writeByte(s.charCodeAt(i))},toByteArray:function(){return o},toString:function(){var s="";s+="[";for(var i=0;i<o.length;i+=1)i>0&&(s+=","),s+=o[i];return s+"]"}};return a},U=function(o){var a=o,s=0,i=0,l=0,f={read:function(){for(;l<8;){if(s>=a.length){if(l==0)return-1;throw"unexpected end of file./"+l}var y=a.charAt(s);if(s+=1,y=="=")return l=0,-1;y.match(/^\s$/)||(i=i<<6|p(y.charCodeAt(0)),l+=6)}var _=i>>>l-8&255;return l-=8,_}},p=function(y){if(65<=y&&y<=90)return y-65;if(97<=y&&y<=122)return y-97+26;if(48<=y&&y<=57)return y-48+52;if(y==43)return 62;if(y==47)return 63;throw"c:"+y};return f},u=function(o,a,s){for(var i=function(E,k){var j=E,Q=k,$=new Array(E*k),G={setPixel:function(g,v,w){$[v*j+g]=w},write:function(g){g.writeString("GIF87a"),g.writeShort(j),g.writeShort(Q),g.writeByte(128),g.writeByte(0),g.writeByte(0),g.writeByte(0),g.writeByte(0),g.writeByte(0),g.writeByte(255),g.writeByte(255),g.writeByte(255),g.writeString(","),g.writeShort(0),g.writeShort(0),g.writeShort(j),g.writeShort(Q),g.writeByte(0);var v=J(2);g.writeByte(2);for(var w=0;v.length-w>255;)g.writeByte(255),g.writeBytes(v,w,255),w+=255;g.writeByte(v.length-w),g.writeBytes(v,w,v.length-w),g.writeByte(0),g.writeString(";")}},J=function(g){for(var v=1<<g,w=1+(1<<g),S=g+1,x=N(),B=0;B<v;B+=1)x.add(String.fromCharCode(B));x.add(String.fromCharCode(v)),x.add(String.fromCharCode(w));var I,q,V,H=Nt(),F=(I=H,q=0,V=0,{write:function(rt,L){if(rt>>>L)throw"length over";for(;q+L>=8;)I.writeByte(255&(rt<<q|V)),L-=8-q,rt>>>=8-q,V=0,q=0;V|=rt<<q,q+=L},flush:function(){q>0&&I.writeByte(V)}});F.write(v,S);var et=0,nt=String.fromCharCode($[et]);for(et+=1;et<$.length;){var ot=String.fromCharCode($[et]);et+=1,x.contains(nt+ot)?nt+=ot:(F.write(x.indexOf(nt),S),x.size()<4095&&(x.size()==1<<S&&(S+=1),x.add(nt+ot)),nt=ot)}return F.write(x.indexOf(nt),S),F.write(w,S),F.flush(),H.toByteArray()},N=function(){var g={},v=0,w={add:function(S){if(w.contains(S))throw"dup key:"+S;g[S]=v,v+=1},size:function(){return v},indexOf:function(S){return g[S]},contains:function(S){return g[S]!==void 0}};return w};return G}(o,a),l=0;l<a;l+=1)for(var f=0;f<o;f+=1)i.setPixel(f,l,s(f,l));var p=Nt();i.write(p);for(var y=function(){var E=0,k=0,j=0,Q="",$={},G=function(N){Q+=String.fromCharCode(J(63&N))},J=function(N){if(!(N<0)){if(N<26)return 65+N;if(N<52)return N-26+97;if(N<62)return N-52+48;if(N==62)return 43;if(N==63)return 47}throw"n:"+N};return $.writeByte=function(N){for(E=E<<8|255&N,k+=8,j+=1;k>=6;)G(E>>>k-6),k-=6},$.flush=function(){if(k>0&&(G(E<<6-k),E=0,k=0),j%3!=0)for(var N=3-j%3,g=0;g<N;g+=1)Q+="="},$.toString=function(){return Q},$}(),_=p.toByteArray(),T=0;T<_.length;T+=1)y.writeByte(_[T]);return y.flush(),"data:image/gif;base64,"+y};return M}();O.stringToBytesFuncs["UTF-8"]=function(M){return function(W){for(var K=[],P=0;P<W.length;P++){var R=W.charCodeAt(P);R<128?K.push(R):R<2048?K.push(192|R>>6,128|63&R):R<55296||R>=57344?K.push(224|R>>12,128|R>>6&63,128|63&R):(P++,R=65536+((1023&R)<<10|1023&W.charCodeAt(P)),K.push(240|R>>18,128|R>>12&63,128|R>>6&63,128|63&R))}return K}(M)},(C=typeof(A=function(){return O})=="function"?A.apply(b,[]):A)===void 0||(d.exports=C)}},n={};function c(d){var b=n[d];if(b!==void 0)return b.exports;var A=n[d]={exports:{}};return r[d](A,A.exports,c),A.exports}c.n=d=>{var b=d&&d.__esModule?()=>d.default:()=>d;return c.d(b,{a:b}),b},c.d=(d,b)=>{for(var A in b)c.o(b,A)&&!c.o(d,A)&&Object.defineProperty(d,A,{enumerable:!0,get:b[A]})},c.o=(d,b)=>Object.prototype.hasOwnProperty.call(d,b);var h={};return(()=>{c.d(h,{default:()=>Nt});const d=U=>!!U&&typeof U=="object"&&!Array.isArray(U);function b(U,...u){if(!u.length)return U;const o=u.shift();return o!==void 0&&d(U)&&d(o)?(U=Object.assign({},U),Object.keys(o).forEach(a=>{const s=U[a],i=o[a];Array.isArray(s)&&Array.isArray(i)?U[a]=i:d(s)&&d(i)?U[a]=b(Object.assign({},s),i):U[a]=i}),b(U,...u)):U}function A(U,u){const o=document.createElement("a");o.download=u,o.href=U,document.body.appendChild(o),o.click(),document.body.removeChild(o)}const C={L:.07,M:.15,Q:.25,H:.3};class O{constructor({svg:u,type:o,window:a}){this._svg=u,this._type=o,this._window=a}draw(u,o,a,s){let i;switch(this._type){case"dots":i=this._drawDot;break;case"classy":i=this._drawClassy;break;case"classy-rounded":i=this._drawClassyRounded;break;case"rounded":i=this._drawRounded;break;case"extra-rounded":i=this._drawExtraRounded;break;default:i=this._drawSquare}i.call(this,{x:u,y:o,size:a,getNeighbor:s})}_rotateFigure({x:u,y:o,size:a,rotation:s=0,draw:i}){var l;const f=u+a/2,p=o+a/2;i(),(l=this._element)===null||l===void 0||l.setAttribute("transform",`rotate(${180*s/Math.PI},${f},${p})`)}_basicDot(u){const{size:o,x:a,y:s}=u;this._rotateFigure(Object.assign(Object.assign({},u),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(a+o/2)),this._element.setAttribute("cy",String(s+o/2)),this._element.setAttribute("r",String(o/2))}}))}_basicSquare(u){const{size:o,x:a,y:s}=u;this._rotateFigure(Object.assign(Object.assign({},u),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(a)),this._element.setAttribute("y",String(s)),this._element.setAttribute("width",String(o)),this._element.setAttribute("height",String(o))}}))}_basicSideRounded(u){const{size:o,x:a,y:s}=u;this._rotateFigure(Object.assign(Object.assign({},u),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${a} ${s}v ${o}h `+o/2+`a ${o/2} ${o/2}, 0, 0, 0, 0 ${-o}`)}}))}_basicCornerRounded(u){const{size:o,x:a,y:s}=u;this._rotateFigure(Object.assign(Object.assign({},u),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${a} ${s}v ${o}h ${o}v `+-o/2+`a ${o/2} ${o/2}, 0, 0, 0, ${-o/2} ${-o/2}`)}}))}_basicCornerExtraRounded(u){const{size:o,x:a,y:s}=u;this._rotateFigure(Object.assign(Object.assign({},u),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${a} ${s}v ${o}h ${o}a ${o} ${o}, 0, 0, 0, ${-o} ${-o}`)}}))}_basicCornersRounded(u){const{size:o,x:a,y:s}=u;this._rotateFigure(Object.assign(Object.assign({},u),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${a} ${s}v `+o/2+`a ${o/2} ${o/2}, 0, 0, 0, ${o/2} ${o/2}h `+o/2+"v "+-o/2+`a ${o/2} ${o/2}, 0, 0, 0, ${-o/2} ${-o/2}`)}}))}_drawDot({x:u,y:o,size:a}){this._basicDot({x:u,y:o,size:a,rotation:0})}_drawSquare({x:u,y:o,size:a}){this._basicSquare({x:u,y:o,size:a,rotation:0})}_drawRounded({x:u,y:o,size:a,getNeighbor:s}){const i=s?+s(-1,0):0,l=s?+s(1,0):0,f=s?+s(0,-1):0,p=s?+s(0,1):0,y=i+l+f+p;if(y!==0)if(y>2||i&&l||f&&p)this._basicSquare({x:u,y:o,size:a,rotation:0});else{if(y===2){let _=0;return i&&f?_=Math.PI/2:f&&l?_=Math.PI:l&&p&&(_=-Math.PI/2),void this._basicCornerRounded({x:u,y:o,size:a,rotation:_})}if(y===1){let _=0;return f?_=Math.PI/2:l?_=Math.PI:p&&(_=-Math.PI/2),void this._basicSideRounded({x:u,y:o,size:a,rotation:_})}}else this._basicDot({x:u,y:o,size:a,rotation:0})}_drawExtraRounded({x:u,y:o,size:a,getNeighbor:s}){const i=s?+s(-1,0):0,l=s?+s(1,0):0,f=s?+s(0,-1):0,p=s?+s(0,1):0,y=i+l+f+p;if(y!==0)if(y>2||i&&l||f&&p)this._basicSquare({x:u,y:o,size:a,rotation:0});else{if(y===2){let _=0;return i&&f?_=Math.PI/2:f&&l?_=Math.PI:l&&p&&(_=-Math.PI/2),void this._basicCornerExtraRounded({x:u,y:o,size:a,rotation:_})}if(y===1){let _=0;return f?_=Math.PI/2:l?_=Math.PI:p&&(_=-Math.PI/2),void this._basicSideRounded({x:u,y:o,size:a,rotation:_})}}else this._basicDot({x:u,y:o,size:a,rotation:0})}_drawClassy({x:u,y:o,size:a,getNeighbor:s}){const i=s?+s(-1,0):0,l=s?+s(1,0):0,f=s?+s(0,-1):0,p=s?+s(0,1):0;i+l+f+p!==0?i||f?l||p?this._basicSquare({x:u,y:o,size:a,rotation:0}):this._basicCornerRounded({x:u,y:o,size:a,rotation:Math.PI/2}):this._basicCornerRounded({x:u,y:o,size:a,rotation:-Math.PI/2}):this._basicCornersRounded({x:u,y:o,size:a,rotation:Math.PI/2})}_drawClassyRounded({x:u,y:o,size:a,getNeighbor:s}){const i=s?+s(-1,0):0,l=s?+s(1,0):0,f=s?+s(0,-1):0,p=s?+s(0,1):0;i+l+f+p!==0?i||f?l||p?this._basicSquare({x:u,y:o,size:a,rotation:0}):this._basicCornerExtraRounded({x:u,y:o,size:a,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:u,y:o,size:a,rotation:-Math.PI/2}):this._basicCornersRounded({x:u,y:o,size:a,rotation:Math.PI/2})}}class M{constructor({svg:u,type:o,window:a}){this._svg=u,this._type=o,this._window=a}draw(u,o,a,s){let i;switch(this._type){case"square":i=this._drawSquare;break;case"extra-rounded":i=this._drawExtraRounded;break;default:i=this._drawDot}i.call(this,{x:u,y:o,size:a,rotation:s})}_rotateFigure({x:u,y:o,size:a,rotation:s=0,draw:i}){var l;const f=u+a/2,p=o+a/2;i(),(l=this._element)===null||l===void 0||l.setAttribute("transform",`rotate(${180*s/Math.PI},${f},${p})`)}_basicDot(u){const{size:o,x:a,y:s}=u,i=o/7;this._rotateFigure(Object.assign(Object.assign({},u),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${a+o/2} ${s}a ${o/2} ${o/2} 0 1 0 0.1 0zm 0 ${i}a ${o/2-i} ${o/2-i} 0 1 1 -0.1 0Z`)}}))}_basicSquare(u){const{size:o,x:a,y:s}=u,i=o/7;this._rotateFigure(Object.assign(Object.assign({},u),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${a} ${s}v ${o}h ${o}v `+-o+`zM ${a+i} ${s+i}h `+(o-2*i)+"v "+(o-2*i)+"h "+(2*i-o)+"z")}}))}_basicExtraRounded(u){const{size:o,x:a,y:s}=u,i=o/7;this._rotateFigure(Object.assign(Object.assign({},u),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${a} ${s+2.5*i}v `+2*i+`a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*i} ${2.5*i}h `+2*i+`a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*i} ${2.5*-i}v `+-2*i+`a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*-i} ${2.5*-i}h `+-2*i+`a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*-i} ${2.5*i}M ${a+2.5*i} ${s+i}h `+2*i+`a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*i} ${1.5*i}v `+2*i+`a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*-i} ${1.5*i}h `+-2*i+`a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*-i} ${1.5*-i}v `+-2*i+`a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*i} ${1.5*-i}`)}}))}_drawDot({x:u,y:o,size:a,rotation:s}){this._basicDot({x:u,y:o,size:a,rotation:s})}_drawSquare({x:u,y:o,size:a,rotation:s}){this._basicSquare({x:u,y:o,size:a,rotation:s})}_drawExtraRounded({x:u,y:o,size:a,rotation:s}){this._basicExtraRounded({x:u,y:o,size:a,rotation:s})}}class W{constructor({svg:u,type:o,window:a}){this._svg=u,this._type=o,this._window=a}draw(u,o,a,s){let i;i=this._type==="square"?this._drawSquare:this._drawDot,i.call(this,{x:u,y:o,size:a,rotation:s})}_rotateFigure({x:u,y:o,size:a,rotation:s=0,draw:i}){var l;const f=u+a/2,p=o+a/2;i(),(l=this._element)===null||l===void 0||l.setAttribute("transform",`rotate(${180*s/Math.PI},${f},${p})`)}_basicDot(u){const{size:o,x:a,y:s}=u;this._rotateFigure(Object.assign(Object.assign({},u),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(a+o/2)),this._element.setAttribute("cy",String(s+o/2)),this._element.setAttribute("r",String(o/2))}}))}_basicSquare(u){const{size:o,x:a,y:s}=u;this._rotateFigure(Object.assign(Object.assign({},u),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(a)),this._element.setAttribute("y",String(s)),this._element.setAttribute("width",String(o)),this._element.setAttribute("height",String(o))}}))}_drawDot({x:u,y:o,size:a,rotation:s}){this._basicDot({x:u,y:o,size:a,rotation:s})}_drawSquare({x:u,y:o,size:a,rotation:s}){this._basicSquare({x:u,y:o,size:a,rotation:s})}}const K="circle",P=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],R=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class D{constructor(u,o){this._roundSize=a=>this._options.dotsOptions.roundSize?Math.floor(a):a,this._window=o,this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(u.width)),this._element.setAttribute("height",String(u.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),u.dotsOptions.roundSize||this._element.setAttribute("shape-rendering","crispEdges"),this._element.setAttribute("viewBox",`0 0 ${u.width} ${u.height}`),this._defs=this._window.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._imageUri=u.image,this._instanceId=D.instanceCount++,this._options=u}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}async drawQR(u){const o=u.getModuleCount(),a=Math.min(this._options.width,this._options.height)-2*this._options.margin,s=this._options.shape===K?a/Math.sqrt(2):a,i=this._roundSize(s/o);let l={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=u,this._options.image){if(await this.loadImage(),!this._image)return;const{imageOptions:f,qrOptions:p}=this._options,y=f.imageSize*C[p.errorCorrectionLevel],_=Math.floor(y*o*o);l=function({originalHeight:T,originalWidth:E,maxHiddenDots:k,maxHiddenAxisDots:j,dotSize:Q}){const $={x:0,y:0},G={x:0,y:0};if(T<=0||E<=0||k<=0||Q<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};const J=T/E;return $.x=Math.floor(Math.sqrt(k/J)),$.x<=0&&($.x=1),j&&j<$.x&&($.x=j),$.x%2==0&&$.x--,G.x=$.x*Q,$.y=1+2*Math.ceil(($.x*J-1)/2),G.y=Math.round(G.x*J),($.y*$.x>k||j&&j<$.y)&&(j&&j<$.y?($.y=j,$.y%2==0&&$.x--):$.y-=2,G.y=$.y*Q,$.x=1+2*Math.ceil(($.y/J-1)/2),G.x=Math.round(G.y/J)),{height:G.y,width:G.x,hideYDots:$.y,hideXDots:$.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:_,maxHiddenAxisDots:o-14,dotSize:i})}this.drawBackground(),this.drawDots((f,p)=>{var y,_,T,E,k,j;return!(this._options.imageOptions.hideBackgroundDots&&f>=(o-l.hideYDots)/2&&f<(o+l.hideYDots)/2&&p>=(o-l.hideXDots)/2&&p<(o+l.hideXDots)/2||!((y=P[f])===null||y===void 0)&&y[p]||!((_=P[f-o+7])===null||_===void 0)&&_[p]||!((T=P[f])===null||T===void 0)&&T[p-o+7]||!((E=R[f])===null||E===void 0)&&E[p]||!((k=R[f-o+7])===null||k===void 0)&&k[p]||!((j=R[f])===null||j===void 0)&&j[p-o+7])}),this.drawCorners(),this._options.image&&await this.drawImage({width:l.width,height:l.height,count:o,dotSize:i})}drawBackground(){var u,o,a;const s=this._element,i=this._options;if(s){const l=(u=i.backgroundOptions)===null||u===void 0?void 0:u.gradient,f=(o=i.backgroundOptions)===null||o===void 0?void 0:o.color;let p=i.height,y=i.width;if(l||f){const _=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id",`clip-path-background-color-${this._instanceId}`),this._defs.appendChild(this._backgroundClipPath),!((a=i.backgroundOptions)===null||a===void 0)&&a.round&&(p=y=Math.min(i.width,i.height),_.setAttribute("rx",String(p/2*i.backgroundOptions.round))),_.setAttribute("x",String(this._roundSize((i.width-y)/2))),_.setAttribute("y",String(this._roundSize((i.height-p)/2))),_.setAttribute("width",String(y)),_.setAttribute("height",String(p)),this._backgroundClipPath.appendChild(_),this._createColor({options:l,color:f,additionalRotation:0,x:0,y:0,height:i.height,width:i.width,name:`background-color-${this._instanceId}`})}}}drawDots(u){var o,a;if(!this._qr)throw"QR code is not defined";const s=this._options,i=this._qr.getModuleCount();if(i>s.width||i>s.height)throw"The canvas is too small.";const l=Math.min(s.width,s.height)-2*s.margin,f=s.shape===K?l/Math.sqrt(2):l,p=this._roundSize(f/i),y=this._roundSize((s.width-i*p)/2),_=this._roundSize((s.height-i*p)/2),T=new O({svg:this._element,type:s.dotsOptions.type,window:this._window});this._dotsClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id",`clip-path-dot-color-${this._instanceId}`),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(o=s.dotsOptions)===null||o===void 0?void 0:o.gradient,color:s.dotsOptions.color,additionalRotation:0,x:0,y:0,height:s.height,width:s.width,name:`dot-color-${this._instanceId}`});for(let E=0;E<i;E++)for(let k=0;k<i;k++)u&&!u(E,k)||!((a=this._qr)===null||a===void 0)&&a.isDark(E,k)&&(T.draw(y+k*p,_+E*p,p,(j,Q)=>!(k+j<0||E+Q<0||k+j>=i||E+Q>=i)&&!(u&&!u(E+Q,k+j))&&!!this._qr&&this._qr.isDark(E+Q,k+j)),T._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(T._element));if(s.shape===K){const E=this._roundSize((l/p-i)/2),k=i+2*E,j=y-E*p,Q=_-E*p,$=[],G=this._roundSize(k/2);for(let J=0;J<k;J++){$[J]=[];for(let N=0;N<k;N++)J>=E-1&&J<=k-E&&N>=E-1&&N<=k-E||Math.sqrt((J-G)*(J-G)+(N-G)*(N-G))>G?$[J][N]=0:$[J][N]=this._qr.isDark(N-2*E<0?N:N>=i?N-2*E:N-E,J-2*E<0?J:J>=i?J-2*E:J-E)?1:0}for(let J=0;J<k;J++)for(let N=0;N<k;N++)$[J][N]&&(T.draw(j+N*p,Q+J*p,p,(g,v)=>{var w;return!!(!((w=$[J+v])===null||w===void 0)&&w[N+g])}),T._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(T._element))}}drawCorners(){if(!this._qr)throw"QR code is not defined";const u=this._element,o=this._options;if(!u)throw"Element code is not defined";const a=this._qr.getModuleCount(),s=Math.min(o.width,o.height)-2*o.margin,i=o.shape===K?s/Math.sqrt(2):s,l=this._roundSize(i/a),f=7*l,p=3*l,y=this._roundSize((o.width-a*l)/2),_=this._roundSize((o.height-a*l)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(([T,E,k])=>{var j,Q,$,G,J,N,g,v,w,S,x,B;const I=y+T*l*(a-7),q=_+E*l*(a-7);let V=this._dotsClipPath,H=this._dotsClipPath;if((!((j=o.cornersSquareOptions)===null||j===void 0)&&j.gradient||!((Q=o.cornersSquareOptions)===null||Q===void 0)&&Q.color)&&(V=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),V.setAttribute("id",`clip-path-corners-square-color-${T}-${E}-${this._instanceId}`),this._defs.appendChild(V),this._cornersSquareClipPath=this._cornersDotClipPath=H=V,this._createColor({options:($=o.cornersSquareOptions)===null||$===void 0?void 0:$.gradient,color:(G=o.cornersSquareOptions)===null||G===void 0?void 0:G.color,additionalRotation:k,x:I,y:q,height:f,width:f,name:`corners-square-color-${T}-${E}-${this._instanceId}`})),(J=o.cornersSquareOptions)===null||J===void 0?void 0:J.type){const F=new M({svg:this._element,type:o.cornersSquareOptions.type,window:this._window});F.draw(I,q,f,k),F._element&&V&&V.appendChild(F._element)}else{const F=new O({svg:this._element,type:o.dotsOptions.type,window:this._window});for(let et=0;et<P.length;et++)for(let nt=0;nt<P[et].length;nt++)!((N=P[et])===null||N===void 0)&&N[nt]&&(F.draw(I+nt*l,q+et*l,l,(ot,rt)=>{var L;return!!(!((L=P[et+rt])===null||L===void 0)&&L[nt+ot])}),F._element&&V&&V.appendChild(F._element))}if((!((g=o.cornersDotOptions)===null||g===void 0)&&g.gradient||!((v=o.cornersDotOptions)===null||v===void 0)&&v.color)&&(H=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),H.setAttribute("id",`clip-path-corners-dot-color-${T}-${E}-${this._instanceId}`),this._defs.appendChild(H),this._cornersDotClipPath=H,this._createColor({options:(w=o.cornersDotOptions)===null||w===void 0?void 0:w.gradient,color:(S=o.cornersDotOptions)===null||S===void 0?void 0:S.color,additionalRotation:k,x:I+2*l,y:q+2*l,height:p,width:p,name:`corners-dot-color-${T}-${E}-${this._instanceId}`})),(x=o.cornersDotOptions)===null||x===void 0?void 0:x.type){const F=new W({svg:this._element,type:o.cornersDotOptions.type,window:this._window});F.draw(I+2*l,q+2*l,p,k),F._element&&H&&H.appendChild(F._element)}else{const F=new O({svg:this._element,type:o.dotsOptions.type,window:this._window});for(let et=0;et<R.length;et++)for(let nt=0;nt<R[et].length;nt++)!((B=R[et])===null||B===void 0)&&B[nt]&&(F.draw(I+nt*l,q+et*l,l,(ot,rt)=>{var L;return!!(!((L=R[et+rt])===null||L===void 0)&&L[nt+ot])}),F._element&&H&&H.appendChild(F._element))}})}loadImage(){return new Promise((u,o)=>{var a;const s=this._options;if(!s.image)return o("Image is not defined");if(!((a=s.nodeCanvas)===null||a===void 0)&&a.loadImage)s.nodeCanvas.loadImage(s.image).then(i=>{var l,f;if(this._image=i,this._options.imageOptions.saveAsBlob){const p=(l=s.nodeCanvas)===null||l===void 0?void 0:l.createCanvas(this._image.width,this._image.height);(f=p==null?void 0:p.getContext("2d"))===null||f===void 0||f.drawImage(i,0,0),this._imageUri=p==null?void 0:p.toDataURL()}u()}).catch(o);else{const i=new this._window.Image;typeof s.imageOptions.crossOrigin=="string"&&(i.crossOrigin=s.imageOptions.crossOrigin),this._image=i,i.onload=async()=>{this._options.imageOptions.saveAsBlob&&(this._imageUri=await async function(l,f){return new Promise(p=>{const y=new f.XMLHttpRequest;y.onload=function(){const _=new f.FileReader;_.onloadend=function(){p(_.result)},_.readAsDataURL(y.response)},y.open("GET",l),y.responseType="blob",y.send()})}(s.image||"",this._window)),u()},i.src=s.image}})}async drawImage({width:u,height:o,count:a,dotSize:s}){const i=this._options,l=this._roundSize((i.width-a*s)/2),f=this._roundSize((i.height-a*s)/2),p=l+this._roundSize(i.imageOptions.margin+(a*s-u)/2),y=f+this._roundSize(i.imageOptions.margin+(a*s-o)/2),_=u-2*i.imageOptions.margin,T=o-2*i.imageOptions.margin,E=this._window.document.createElementNS("http://www.w3.org/2000/svg","image");E.setAttribute("href",this._imageUri||""),E.setAttribute("x",String(p)),E.setAttribute("y",String(y)),E.setAttribute("width",`${_}px`),E.setAttribute("height",`${T}px`),this._element.appendChild(E)}_createColor({options:u,color:o,additionalRotation:a,x:s,y:i,height:l,width:f,name:p}){const y=f>l?f:l,_=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");if(_.setAttribute("x",String(s)),_.setAttribute("y",String(i)),_.setAttribute("height",String(l)),_.setAttribute("width",String(f)),_.setAttribute("clip-path",`url('#clip-path-${p}')`),u){let T;if(u.type==="radial")T=this._window.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),T.setAttribute("id",p),T.setAttribute("gradientUnits","userSpaceOnUse"),T.setAttribute("fx",String(s+f/2)),T.setAttribute("fy",String(i+l/2)),T.setAttribute("cx",String(s+f/2)),T.setAttribute("cy",String(i+l/2)),T.setAttribute("r",String(y/2));else{const E=((u.rotation||0)+a)%(2*Math.PI),k=(E+2*Math.PI)%(2*Math.PI);let j=s+f/2,Q=i+l/2,$=s+f/2,G=i+l/2;k>=0&&k<=.25*Math.PI||k>1.75*Math.PI&&k<=2*Math.PI?(j-=f/2,Q-=l/2*Math.tan(E),$+=f/2,G+=l/2*Math.tan(E)):k>.25*Math.PI&&k<=.75*Math.PI?(Q-=l/2,j-=f/2/Math.tan(E),G+=l/2,$+=f/2/Math.tan(E)):k>.75*Math.PI&&k<=1.25*Math.PI?(j+=f/2,Q+=l/2*Math.tan(E),$-=f/2,G-=l/2*Math.tan(E)):k>1.25*Math.PI&&k<=1.75*Math.PI&&(Q+=l/2,j+=f/2/Math.tan(E),G-=l/2,$-=f/2/Math.tan(E)),T=this._window.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),T.setAttribute("id",p),T.setAttribute("gradientUnits","userSpaceOnUse"),T.setAttribute("x1",String(Math.round(j))),T.setAttribute("y1",String(Math.round(Q))),T.setAttribute("x2",String(Math.round($))),T.setAttribute("y2",String(Math.round(G)))}u.colorStops.forEach(({offset:E,color:k})=>{const j=this._window.document.createElementNS("http://www.w3.org/2000/svg","stop");j.setAttribute("offset",100*E+"%"),j.setAttribute("stop-color",k),T.appendChild(j)}),_.setAttribute("fill",`url('#${p}')`),this._defs.appendChild(T)}else o&&_.setAttribute("fill",o);this._element.appendChild(_)}}D.instanceCount=0;const tt=D,X="canvas",Y={};for(let U=0;U<=40;U++)Y[U]=U;const at={type:X,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:Y[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{saveAsBlob:!0,hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000",roundSize:!0},backgroundOptions:{round:0,color:"#fff"}};function it(U){const u=Object.assign({},U);if(!u.colorStops||!u.colorStops.length)throw"Field 'colorStops' is required in gradient";return u.rotation?u.rotation=Number(u.rotation):u.rotation=0,u.colorStops=u.colorStops.map(o=>Object.assign(Object.assign({},o),{offset:Number(o.offset)})),u}function lt(U){const u=Object.assign({},U);return u.width=Number(u.width),u.height=Number(u.height),u.margin=Number(u.margin),u.imageOptions=Object.assign(Object.assign({},u.imageOptions),{hideBackgroundDots:!!u.imageOptions.hideBackgroundDots,imageSize:Number(u.imageOptions.imageSize),margin:Number(u.imageOptions.margin)}),u.margin>Math.min(u.width,u.height)&&(u.margin=Math.min(u.width,u.height)),u.dotsOptions=Object.assign({},u.dotsOptions),u.dotsOptions.gradient&&(u.dotsOptions.gradient=it(u.dotsOptions.gradient)),u.cornersSquareOptions&&(u.cornersSquareOptions=Object.assign({},u.cornersSquareOptions),u.cornersSquareOptions.gradient&&(u.cornersSquareOptions.gradient=it(u.cornersSquareOptions.gradient))),u.cornersDotOptions&&(u.cornersDotOptions=Object.assign({},u.cornersDotOptions),u.cornersDotOptions.gradient&&(u.cornersDotOptions.gradient=it(u.cornersDotOptions.gradient))),u.backgroundOptions&&(u.backgroundOptions=Object.assign({},u.backgroundOptions),u.backgroundOptions.gradient&&(u.backgroundOptions.gradient=it(u.backgroundOptions.gradient))),u}var ft=c(873),_t=c.n(ft);function bt(U){if(!U)throw new Error("Extension must be defined");U[0]==="."&&(U=U.substring(1));const u={bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",pdf:"application/pdf"}[U.toLowerCase()];if(!u)throw new Error(`Extension "${U}" is not supported`);return u}class Pt{constructor(u){u!=null&&u.jsdom?this._window=new u.jsdom("",{resources:"usable"}).window:this._window=window,this._options=u?lt(b(at,u)):at,this.update()}static _clearContainer(u){u&&(u.innerHTML="")}_setupSvg(){if(!this._qr)return;const u=new tt(this._options,this._window);this._svg=u.getElement(),this._svgDrawingPromise=u.drawQR(this._qr).then(()=>{var o;this._svg&&((o=this._extension)===null||o===void 0||o.call(this,u.getElement(),this._options))})}_setupCanvas(){var u,o;this._qr&&(!((u=this._options.nodeCanvas)===null||u===void 0)&&u.createCanvas?(this._nodeCanvas=this._options.nodeCanvas.createCanvas(this._options.width,this._options.height),this._nodeCanvas.width=this._options.width,this._nodeCanvas.height=this._options.height):(this._domCanvas=document.createElement("canvas"),this._domCanvas.width=this._options.width,this._domCanvas.height=this._options.height),this._setupSvg(),this._canvasDrawingPromise=(o=this._svgDrawingPromise)===null||o===void 0?void 0:o.then(()=>{var a;if(!this._svg)return;const s=this._svg,i=new this._window.XMLSerializer().serializeToString(s),l=btoa(i),f=`data:${bt("svg")};base64,${l}`;if(!((a=this._options.nodeCanvas)===null||a===void 0)&&a.loadImage)return this._options.nodeCanvas.loadImage(f).then(p=>{var y,_;p.width=this._options.width,p.height=this._options.height,(_=(y=this._nodeCanvas)===null||y===void 0?void 0:y.getContext("2d"))===null||_===void 0||_.drawImage(p,0,0)});{const p=new this._window.Image;return new Promise(y=>{p.onload=()=>{var _,T;(T=(_=this._domCanvas)===null||_===void 0?void 0:_.getContext("2d"))===null||T===void 0||T.drawImage(p,0,0),y()},p.src=f})}}))}async _getElement(u="png"){if(!this._qr)throw"QR code is empty";return u.toLowerCase()==="svg"?(this._svg&&this._svgDrawingPromise||this._setupSvg(),await this._svgDrawingPromise,this._svg):((this._domCanvas||this._nodeCanvas)&&this._canvasDrawingPromise||this._setupCanvas(),await this._canvasDrawingPromise,this._domCanvas||this._nodeCanvas)}update(u){Pt._clearContainer(this._container),this._options=u?lt(b(this._options,u)):this._options,this._options.data&&(this._qr=_t()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(o){switch(!0){case/^[0-9]*$/.test(o):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(o):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===X?this._setupCanvas():this._setupSvg(),this.append(this._container))}append(u){if(u){if(typeof u.appendChild!="function")throw"Container should be a single DOM node";this._options.type===X?this._domCanvas&&u.appendChild(this._domCanvas):this._svg&&u.appendChild(this._svg),this._container=u}}applyExtension(u){if(!u)throw"Extension function should be defined.";this._extension=u,this.update()}deleteExtension(){this._extension=void 0,this.update()}async getRawData(u="png"){if(!this._qr)throw"QR code is empty";const o=await this._getElement(u),a=bt(u);if(!o)return null;if(u.toLowerCase()==="svg"){const s=`<?xml version="1.0" standalone="no"?>\r
${new this._window.XMLSerializer().serializeToString(o)}`;return typeof Blob>"u"||this._options.jsdom?Buffer.from(s):new Blob([s],{type:a})}return new Promise(s=>{const i=o;if("toBuffer"in i)if(a==="image/png")s(i.toBuffer(a));else if(a==="image/jpeg")s(i.toBuffer(a));else{if(a!=="application/pdf")throw Error("Unsupported extension");s(i.toBuffer(a))}else"toBlob"in i&&i.toBlob(s,a,1)})}async download(u){if(!this._qr)throw"QR code is empty";if(typeof Blob>"u")throw"Cannot download in Node.js, call getRawData instead.";let o="png",a="qr";typeof u=="string"?(o=u,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof u=="object"&&u!==null&&(u.name&&(a=u.name),u.extension&&(o=u.extension));const s=await this._getElement(o);if(s)if(o.toLowerCase()==="svg"){let i=new XMLSerializer().serializeToString(s);i=`<?xml version="1.0" standalone="no"?>\r
`+i,A(`data:${bt(o)};charset=utf-8,${encodeURIComponent(i)}`,`${a}.svg`)}else A(s.toDataURL(bt(o)),`${a}.${o}`)}}const Nt=Pt})(),h.default})())}(It)),It.exports}var Mr=Dr();const Tr=Ge(Mr);function kr({url:t}){const[e,r]=St.useState({width:200,height:200,type:"svg",data:t,image:"/favicon.png",margin:10,qrOptions:{typeNumber:0,mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.5,margin:2,crossOrigin:"anonymous"},dotsOptions:{color:"#222",type:"rounded"},backgroundOptions:{color:"transparent"},cornersSquareOptions:{color:"#3b37ff",type:"extra-rounded"},cornersDotOptions:{color:"#3b37ff",type:"dot"}}),[n]=St.useState(new Tr(e)),c=St.useRef(null);return St.useEffect(()=>{c.current&&n.append(c.current)},[n,c]),St.useEffect(()=>{n&&n.update(e)},[n,e]),ct.jsx("div",{ref:c,className:"h-full"})}function $r(){const t=Qe(),{model:e}=Xe(),[r,n]=St.useState();St.useEffect(()=>{if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent))return t(`/model/${e}/view`)},[e,t]);const c=async()=>{var h;if(e.includes("model-")){const d=e.replace("model-",""),b=d.replace(".glb",".usdz"),A=d.replace(".glb",".png");console.log(d,b,A),n({model:`${window.location.protocol}//${window.location.host}/models/${d}`,iosmodel:`${window.location.protocol}//${window.location.host}/models/${b}`,image:`${window.location.protocol}//${window.location.host}/models/${A}`,url:"https://the-creatiiives.myshopify.com/products/the-3p-fulfilled-snowboard"})}else try{const d=await st.get(`${Rr.apiUrl}/api/3d-models/single/${e}`).catch(b=>{console.log(b)});"data"in d&&n((h=d==null?void 0:d.data)==null?void 0:h.model)}catch(d){console.log(d)}};return St.useEffect(()=>{c()},[]),ct.jsx(ct.Fragment,{children:r&&ct.jsxs("div",{className:"flex flex-col justify-stretch items-center h-screen w-screen p-3 bg-slate-400 overflow-hidden",children:[ct.jsx("a",{rel:"noreferrer",href:r.url,title:"The Creatiiives",target:"_blank",children:r.url&&ct.jsx("img",{className:"h-10 w-auto max-w-[140px] object-contain",src:"/client-logo.png",alt:"Client logo"})}),ct.jsxs("div",{className:"max-w-5xl w-full h-[80%] md:m-auto flex justify-around items-center bg-white rounded-xl p-3 m-3",children:[ct.jsxs("div",{className:"md:flex md:flex-col md:items-center md:justify-center m-auto md:h-fit h-full",children:[ct.jsx("h1",{className:"text-[#482dfa] font-bold text-3xl md:text-4xl max-w-[300px] mb-3 text-center m-auto",children:"Afficher sur votre mur"}),ct.jsx("p",{className:"max-w-[300px] text-gray-800 text-xs md:text-sm text-center mb-2 m-auto",children:"Pour voir le portrait sur votre mur, scannez ce QR Code avec votre téléphone."}),ct.jsx("div",{className:"flex justify-center h-44",children:ct.jsx(kr,{url:`${window.location.href}/view`})})]}),ct.jsx("div",{className:"m-auto h-full flex justify-center items-center md:mt-0 mt-3",children:r.image&&ct.jsx("img",{className:"max-h-[75%] w-auto m-auto object-contain",src:r.image,alt:"model"})})]}),ct.jsxs("div",{className:"",children:[ct.jsx("span",{className:"inline-block font-normal text-sm text-gray-600 mr-2",children:"Powered by"}),ct.jsx("a",{rel:"noreferrer",href:"https://ardisplay.io/",title:"AR Display",target:"_blank",children:ct.jsx("img",{className:"inline-block h-8 w-auto",src:"/logo.png",alt:"Client logo"})})]})]})})}export{$r as default};
